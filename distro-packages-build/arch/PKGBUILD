# Maintainer: Piero Proietti <piero.proietti_at_gmail.com>
#
# Questo è un META-PACCHETTO.
# Non contiene il software penguins-eggs, ma solo le sue dipendenze.
#

pkgname=penguins-eggs-deps
pkgver=1.0.0
pkgrel=1
pkgdesc="Meta package for penguins-eggs runtime dependencies (Arch/Manjaro)"
arch=('any')
url="https://penguins-eggs.net"
license=('GPL2')

# ==============================================================================
# DIPENDENZE (Copia esatta dal tuo originale, rimosso pnpm)
# ==============================================================================
depends=(
  'arch-install-scripts'
  'cryptsetup'
  'dosfstools'
  'efibootmgr'
  'erofs-utils'
  'findutils'
  'git'
  'grub'
  'jq'
  'libarchive'
  'libisoburn'
  'lvm2'
  'mkinitcpio-archiso'
  'mkinitcpio-nfs-utils'
  'mtools'
  'nbd'
  # 'nodejs'
  'pacman-contrib'
  'parted'
  'polkit'
  'procps-ng'
  'pv'
  'python'
  'rsync'
  'squashfs-tools'
  'sshfs'
  'syslinux'
  'wget'
  'xdg-utils' 
)

# Le opzionali le lasciamo come suggerimento
optdepends=(
  'bash-completion: eggs autocomplete'
  'calamares: system installer GUI'
  'zsh-completions: eggs autocomplete'
)

# Nessuna makedepends necessaria (niente pnpm)
# Nessuna source necessaria
# Nessun sha256sums necessario

build() {
  # Non c'è nulla da compilare
  return 0
}

package() {
  # Creiamo solo una documentazione finta per dire a pacman che il pacchetto esiste
  # e non è vuoto (pacman non ama i pacchetti con 0 file)
  
  install -d "$pkgdir/usr/share/doc/$pkgname"
  echo "Questo pacchetto installa le dipendenze per penguins-eggs." > "$pkgdir/usr/share/doc/$pkgname/README"
  
  # Nota: Non installiamo binari, script, icone o altro. 
  # Tutto il resto è dentro l'AppImage.
}